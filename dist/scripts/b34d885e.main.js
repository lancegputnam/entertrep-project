"use strict";Parse.initialize("wbnxBmyVZJGalQ3RY1jZ9le08eo2rm3qze8Luyvv","qICIy4EMU4sV6aiWQ1z559RrZNTmzfPbwNHp6QVB");var Post=Parse.Object.extend({className:"User"}),Vendor=Parse.Object.extend({className:"Vendor"}),UserCollection=Parse.Collection.extend({model:Post}),VendorCollection=Parse.Collection.extend({model:Vendor}),posts=new UserCollection,HomeView=Parse.View.extend({className:"home-view",homeTemplate:_.template($(".home-template").text()),events:{"click .signup-button":"signUp","click .logout-button":"logout"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.homeTemplate;return this.$el.html(a),this},signUp:function(){router.navigate("#/signup",{trigger:!0})},login:function(){router.navigate("#/login",{trigger:!0})},logout:function(){console.log("logging out"),Parse.User.logOut(),router.navigate("#/")}}),SignUpView=Parse.View.extend({className:"signup-view",signupTemplate:_.template($(".sign-up-template").text()),events:{"click .register-button":"register"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.signupTemplate;return this.$el.html(a),this},register:function(){router.navigate("#/settings",{trigger:!0});var a=$(".add-user-name").val(),b=$(".add-password").val(),c=$(".add-email").val(),d=$(".add-first-name").val(),e=$(".add-last-name").val(),f=$(".add-zip-code").val(),g=$(".add-city-state").val(),h=$(".add-user-profile").val(),i=$(".add-business-profile").val(),j=new Parse.User;j.set("username",a),j.set("password",b),j.set("email",c),j.set("firstName",d),j.set("lastName",e),j.set("zipcode",f),j.set("userProfile",h),j.set("businessProfile",i),j.set("cityState",g),j.signUp(null,{success:function(){},error:function(a,b){alert("Error: "+b.code+"Please ensure login information is correct"+b.message)}})}}),VendorSignUpView=Parse.View.extend({className:"vendor-signup-view",vendorSignupTemplate:_.template($(".vendor-sign-up-template").text()),events:{"click .register-button":"register"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.vendorSignupTemplate;return this.$el.html(a),this},register:function(){router.navigate("#/settings",{trigger:!0});var a=$(".add-user-name").val(),b=$(".add-password").val(),c=$(".add-email").val(),d=$(".add-first-name").val(),e=$(".add-last-name").val(),f=$(".add-zip-code").val(),g=$(".add-city-state").val(),h=$(".add-user-profile").val(),i=$(".add-business-profile").val(),j=new Parse.User;j.set("username",a),j.set("password",b),j.set("email",c),j.set("firstName",d),j.set("lastName",e),j.set("zipcode",f),j.set("userProfile",h),j.set("businessProfile",i),j.set(".add-city-state",g),j.signUp(null,{success:function(){},error:function(a,b){alert("Error: "+b.code+"Please ensure login information is correct"+b.message)}})}}),SettingsView=Parse.View.extend({className:"settings-view",settingsTemplate:_.template($(".settings-template").text()),events:{"click .create-button":"addSettings","click .upload-button":"uploadPhoto"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.settingsTemplate;return this.$el.html(a),this},addSettings:function(){router.navigate("#/user",{trigger:!0});var a=$(".add-first-name").val(),b=$(".add-last-name").val(),c=$(".add-city-state").val(),d=$(".add-occupation").val(),e=$(".add-company").val(),f=$(".add-website").val(),g=$(".add-about-section").val(),h=Parse.User.current();h.save("firstName",a),h.save("lastName",b),h.save("occupation",d),h.save("company",e),h.save("website",f),h.save("aboutMe",g),h.save("cityState",c),h.save(null,{success:function(){},error:function(a,b){alert("Error: "+b.code+"Please ensure login information is correct"+b.message)}})},uploadPhoto:function(){var a=$(".file-uploader")[0];if(a.files.length>0)var b=a.files[0],c="photo.jpg",d=new Parse.File(c,b);d.save().then(function(){var a=new Parse.User.current;a.set("ProfilePicture",d),a.save().done(function(){console.log("The uploaded file has been saved to Parse.")})},function(){console.log("The file either could not be read, or could not be saved to Parse.")})}}),LoginView=Parse.View.extend({className:"login-view",loginTemplate:_.template($(".login-template").text()),events:{"click .submit-button":"login","click .signup-login-button":"signUp","click .logout-button":"logout"},initialize:function(){$(".main-container").prepend(this.el),this.render()},render:function(){var a=this.loginTemplate;return this.$el.html(a),this},login:function(){Parse.User.logIn($(".enter-username").val(),$(".enter-password").val(),{success:function(){console.log("Succesfully logged in!"),$(".enter-username").val(""),$(".enter-password").val(""),router.navigate("#/user")},error:function(){router.navigate("#/login")}}),event.preventDefault()},signUp:function(){router.navigate("#/signup",{trigger:!0})},logout:function(){console.log("logging out"),Parse.User.logOut(),router.navigate("#/")}}),UserView=Parse.View.extend({className:"user-view",userTemplate:_.template($(".user-template").text()),events:{"click .logout-button":"logout"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.userTemplate;return this.$el.html(a),this},logout:function(){console.log("logging out"),Parse.User.logOut(),router.navigate("#/")}}),UserAboutView=Parse.View.extend({className:"user-about-view",userAboutTemplate:_.template($(".user-about-template").text()),events:{"click .logout-button":"logout"},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.userAboutTemplate;return this.$el.html(a),this},logout:function(){console.log("logging out"),Parse.User.logOut(),router.navigate("#/")}}),VendorView=Parse.View.extend({className:"vendor-view",vendorTemplate:_.template($(".vendor-template").text()),events:{},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.vendorTemplate;return this.$el.html(a),this}}),PricingView=Parse.View.extend({className:"pricing-view",pricingTemplate:_.template($(".pricing-template").text()),events:{},initialize:function(){$(".main-container").append(this.el),this.render()},render:function(){var a=this.pricingTemplate;return this.$el.html(a),this}}),AppRouter=Parse.Router.extend({routes:{"":"home",signup:"showSignup",login:"showLogin",user:"submitUser","user-about":"showAboutPage",pricing:"showPricing",settings:"showSettings",vendor:"showVendor","signup-vendor":"showSignupForVendor"},initialize:function(){console.log("welcome home")},home:function(){$(".main-container").html(""),new HomeView,console.log("home at last.")},showSignup:function(){$(".main-container").html(""),new SignUpView},showLogin:function(){$(".main-container").html(""),new LoginView},submitUser:function(){$(".main-container").html(""),new UserView(Parse.User.current().attributes)},showVendor:function(){$(".main-container").html(""),new VendorView},showAboutPage:function(){$(".main-container").html(""),new UserAboutView},showPricing:function(){$(".main-container").html(""),new PricingView},showSettings:function(){$(".main-container").html(""),new SettingsView},showSignupForVendor:function(){$(".main-container").html(""),new VendorSignUpView}}),router=new AppRouter;Parse.history.start();